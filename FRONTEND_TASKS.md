# План задач по реализации Frontend (на основе дизайн.md)

Этот документ декомпозирует `дизайн.md` на конкретные задачи для frontend-разработки.

## Легенда
- [ ] не начато  •  [~] в работе  •  [x] готово

---

## 1. Настройка технологического стека и дизайн-системы

- [x] **1.1. Инициализация проекта Next.js:**
  - [x] Использовать Next.js 15.5+ / React 19 (TypeScript).
- [x] **1.2. Настройка базового стайлинга:**
  - [x] Интегрировать Tailwind CSS (`v4.1.13+`).
  - [x] Настроить `shadcn/ui` (`v3.2.1+`) для базовых компонентов.
- [x] **1.3. Внедрение дизайн-системы (Tokens):**
  - [x] Настроить `tailwind.config.js` с дизайн-токенами из `дизайн.md` (цвета, отступы, тени, радиусы).
  - [x] Подключить шрифт Inter (variable).
  - [x] (Опционально) Настроить синхронизацию токенов из Figma через Tokens Studio / Style Dictionary.
- [x] **1.4. Интеграция ключевых библиотек:**
  - [x] Установить и настроить Framer Motion (`v12.23.12+`) для анимаций.
  - [x] Установить и настроить TanStack Query для управления серверным состоянием.
  - [x] Выбрать и установить библиотеку для локального стейта: Zustand (`v5.0.8+`) или Jotai (`v2.14.0+`).
  - [x] Установить Vercel AI SDK (`v1.0.13+`) для чата с ИИ.

## 2. Реализация информационной архитектуры и навигации

- [x] **2.1. Создание макета основного приложения (App Shell):**
  - [x] Реализовать левое док-меню (иконка + лейбл).
  - [x] Реализовать верхний App Bar.
- [x] **2.2. Реализация навигации по разделам:**
  - [x] Создать пустые страницы-заглушки для всех разделов:
    - [x] `1) Главная (Дашборд)`
    - [x] `2) Заказы`
    - [x] `3) Спецификация (BOM)`
    - [x] `4) Фурнитура (RAG-подбор)`
    - [x] `5) CAM (DXF/G-code)`
    - [x] `6) Интеграции (1С)`
    - [x] `7) История заказов`
    - [x] `8) Аудит (для администраторов)`
    - [x] `9) Настройки`
- [x] **2.3. Реализация глобального поиска:**
  - [x] Создать компонент поиска, вызываемый по `Ctrl/⌘+K`.
  - [x] Интегрировать с API для AI-powered поиска.

## 3. Разработка ключевых страниц и паттернов

- [x] **3.1. Страница: Dashboard (Главная):**
  - [x] Реализовать кастомизируемый Bento-грид.
  - [x] Создать виджет "Создать заказ из ТЗ".
  - [x] Создать виджет "Активные заказы" с использованием TanStack Table (`v8.21.3+`).
  - [x] Создать виджет "Очередь CAM" с отображением статусов в реальном времени.
  - [x] Создать виджет "AI-ассистент".
- [x] **3.2. Паттерн: Wizard создания заказа:**
  - [x] Шаг 0: UI для создания нового заказа и получения ID (`/orders/new/page.tsx`)
  - [x] Шаг 1: UI для загрузки ТЗ (текст, эскиз, файлы).
  - [x] Шаг 2: UI диалога с ИИ-технологом (см. п. 3.4).
  - [x] Шаг 3: UI для просмотра и утверждения спецификации (BOM).
  - [x] Шаг 4: UI для запуска CAM-задач и просмотра результатов.
- [x] **3.3. Страница: Фурнитура (RAG-подбор):**
  - [x] UI для отображения предложенной фурнитуры.
  - [x] Реализовать компонент "AI-объяснения" (плюсы/минусы, уверенность).
  - [x] Реализовать модальное окно для визуального сравнения 2-3 элементов.
- [x] **3.4. Паттерн: Диалог с ИИ-технологом:**
  - [x] Создать чат-компонент.
  - [x] Обеспечить потоковую отрисовку ответов от ИИ.
  - [x] Реализовать возможность отправки интерактивных элементов (кнопок) от ИИ.
- [x] **3.5. 3D-визуализация:**
  - [x] Интегрировать React Three Fiber (`v9.3.0+`) для предпросмотра моделей.
  - [x] Создать базовую сцену и загрузчик для DXF/других форматов.
- [x] **3.6. Визуализация данных (отчеты):**
  - [x] Выбрать и интегрировать библиотеку: Recharts (`v3.2.0+`) или Visx (`v3.12.0+`).
  - [x] Создать пример дашборда/отчета.

## 4. Качество, анимация и доступность (A11y) [x]

- [x] **4.1. Реализация гайда по анимациям (Motion):**
  - [x] Использовать `AnimatePresence` для анимации появления/исчезновения элементов в списках.
  - [x] Реализовать Shared Layout Animations для плавных переходов между страницами.
  - [x] Добавить микро-взаимодействия (hover, focus) на интерактивные элементы.
  - [x] Использовать `blurhash` или аналоги для состояний загрузки изображений/моделей.
- [x] **4.2. Обеспечение доступности (Accessibility):**
  - [x] Провести аудит контрастности цветов (WCAG AA, 4.5:1).
  - [x] Обеспечить полную навигацию с клавиатуры по всему приложению.
  - [x] Прописать `aria-*` атрибуты для всех сложных и кастомных компонентов.
  - [x] Провести ручное тестирование с помощью скринридера (NVDA/VoiceOver).
- [x] **4.3. Обработка состояний:**
  - [x] Реализовать понятные состояния загрузки (loaders, skeletons).
  - [x] Реализовать состояния ошибок для всех запросов к API.
  - [x] Создать "пустые состояния" (Empty States) для списков, где еще нет данных.

## 5. Публичные страницы и Аутентификация

- [x] **5.1. Разработка публичных страниц:**
  - [x] Создать страницу-лендинг с описанием продукта.
  - [x] Создать страницу с тарифными планами.
- [x] **5.2. Реализация форм аутентификации:**
  - [x] Создать компонент формы для входа.
  - [x] Создать компонент формы для регистрации.     - это все одна умная форма для 2025 года
  - [x] Создать компонент формы для восстановления пароля.
- [x] **5.3. Реализация интерфейса настроек пользователя:**
  - [x] Создать выпадающее меню по клику на аватар/email пользователя.
  - [x] Создать страницу/модальное окно "Настройки" с возможностью смены данных профиля и пароля.
- [x] **5.4. Локализация:**
  - [x] Убедиться, что все тексты на кнопках, в формах и на всех публичных страницах на русском языке.

---

## 6. Результаты UI/UX аудита и улучшения (2025)

### 6.1. Критические улучшения функциональности

- [x] **6.1.1. Завершение заглушек основных страниц:**
  - [x] Реализовать полноценную страницу BOM (спецификации) с таблицей материалов и компонентов
  - [x] Создать интерфейс CAM модуля с предпросмотром DXF и управлением G-code
  - [x] Разработать страницу интеграций 1С с настройками подключения и синхронизации
  - [x] Добавить функционал истории заказов с фильтрацией и детальным просмотром
  - [x] Реализовать страницу аудита с логами действий и аналитикой

- [x] **6.1.2. Глобальный поиск и навигация:**
  - [x] Реализовать функционал глобального поиска (⌘K) с AI-powered результатами
  - [x] Добавить breadcrumbs навигацию для глубокой иерархии страниц
  - [x] Создать систему контекстных подсказок и tooltips

### 6.2. Улучшения UX и визуального дизайна

- [x] **6.2.1. Состояния загрузки и обработки:**
  - [x] Добавить skeleton loading для всех таблиц и карточек
  - [x] Реализовать состояния загрузки для AI-анализа фурнитуры
  - [x] Создать прогресс-индикаторы для многошаговых процессов (wizard)
  - [x] Добавить spinner'ы для асинхронных операций

- [x] **6.2.2. Обработка ошибок и пустых состояний:**
  - [x] Создать красивые empty states вместо "заглушка" текста
  - [x] Реализовать toast-уведомления для пользовательских действий
  - [x] Добавить fallback UI для ошибок загрузки данных
  - [x] Создать страницу 404 и другие error boundaries

- [ ] **6.2.3. Визуальные улучшения:**
  - [x] Улучшить контрастность элементов интерфейса (WCAG AA)
  - [x] Добавить больше spacing между элементами для лучшей читаемости
  - [x] Реализовать hover-состояния для всех интерактивных элементов
  - [x] Улучшить типографическую иерархию (размеры, веса шрифтов)

### 6.3. Микроанимации и интерактивность

- [ ] **6.3.1. Framer Motion улучшения:**
  - [ ] Добавить плавные transitions между страницами
  - [ ] Реализовать stagger animations для списков и карточек
  - [ ] Создать микроанимации для кнопок и интерактивных элементов
  - [ ] Добавить spring анимации для модальных окон и dropdown'ов

- [ ] **6.3.2. Интерактивные элементы:**
  - [ ] Улучшить drag & drop функционал для загрузки файлов
  - [ ] Добавить интерактивные элементы в 3D предпросмотр моделей
  - [ ] Реализовать smooth scrolling и скроллбар кастомизацию

### 6.4. Улучшения таблиц и управления данными

- [~] **6.4.1. TanStack Table расширения:**
  - [x] Добавить экспорт данных (CSV, Excel)
  - [x] Реализовать массовые действия для выбранных строк (экспорт)
  - [x] Создать сохранение настроек колонок и фильтров
  - [ ] Добавить группировку и агрегацию данных

- [ ] **6.4.2. Фильтрация и поиск:**
  - [ ] Улучшить фильтрацию заказов с датафикерами и диапазонами
  - [ ] Добавить продвинутый поиск по фурнитуре с AI-подсказками
  - [ ] Реализовать сохранённые поисковые запросы

### 6.5. Мобильная адаптивность и доступность

- [ ] **6.5.1. Responsive Design:**
  - [x] Адаптировать таблицы для мобильных устройств (карточный вид)
  - [ ] Оптимизировать боковое меню для планшетов (collapsible)
  - [ ] Улучшить touch-интерфейсы для мобильных устройств

- [ ] **6.5.2. A11y улучшения:**
  - [ ] Добавить skip links для быстрой навигации
  - [ ] Улучшить фокус-индикаторы для клавиатурной навигации
  - [ ] Реализовать screen reader оптимизации для сложных виджетов

### 6.6. Онбординг и помощь пользователям

- [ ] **6.6.1. Система помощи:**
  - [ ] Создать интерактивные туры по основным функциям
  - [ ] Добавить контекстную помощь (question marks с попаповерами)
  - [ ] Реализовать систему подсказок для новых пользователей

- [ ] **6.6.2. Улучшения форм:**
  - [ ] Добавить живую валидацию для всех форм
  - [ ] Реализовать автозаполнение и подсказки при вводе
  - [ ] Создать мульти-степенные формы с сохранением прогресса

### 6.7. Производительность и оптимизация

- [ ] **6.7.1. Оптимизация загрузки:**
  - [ ] Реализовать lazy loading для изображений и компонентов
  - [ ] Добавить code splitting для крупных страниц
  - [ ] Оптимизировать bundle размер и tree-shaking

- [ ] **6.7.2. Кеширование и оффлайн:**
  - [ ] Реализовать service worker для кеширования
  - [ ] Добавить offline индикатор и обработку
  - [ ] Создать локальное сохранение черновиков форм

---

## Приоритизация выполнения (2025)

**🔥 Критический приоритет (1-2 недели):**
- Задачи 6.1.1 - Завершение заглушек основных страниц
- Задачи 6.2.1 - Состояния загрузки и обработки
- Задачи 6.2.2 - Обработка ошибок и пустых состояний

**⚡ Высокий приоритет (2-4 недели):**
- Задачи 6.1.2 - Глобальный поиск и навигация  
- Задачи 6.4.1 - TanStack Table расширения
- Задачи 6.5.1 - Responsive Design

**📈 Средний приоритет (1-2 месяца):**
- Задачи 6.2.3 - Визуальные улучшения
- Задачи 6.3.1 - Framer Motion улучшения
- Задачи 6.6.1 - Система помощи

**✨ Низкий приоритет (по возможности):**
- Задачи 6.3.2 - Интерактивные элементы
- Задачи 6.7.1 - Оптимизация загрузки
- Задачи 6.5.2 - A11y улучшения

